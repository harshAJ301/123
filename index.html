<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To My Princess: A Love Epic</title>
  <style>
    :root { --primary: #ff69b4; }
    body {
      font-family: 'Cormorant Garamond', serif;
      background: #1a1a1a;
      color: #fff;
      line-height: 1.8;
      overflow-x: hidden;
    }
    .chapter {
      min-height: 100vh;
      padding: 100px 15%;
      opacity: 0;
      transform: translateY(50px);
      transition: all 1.5s ease;
      border-bottom: 1px solid rgba(255,105,180,0.3);
    }
    .visible { opacity: 1; transform: translateY(0); }
    h1 { font-size: 4rem; color: var(--primary); margin-bottom: 50px; }
    .memory-box {
      background: rgba(255, 255, 255, 0.05);
      padding: 30px;
      margin: 40px 0;
      border-left: 5px solid var(--primary);
      cursor: pointer;
      transition: 0.3s;
    }
    .memory-box:hover { background: rgba(255, 255, 255, 0.1); }
    #soundtrack {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0,0,0,0.7);
      padding: 10px;
      border-radius: 10px;
      z-index: 1000;
    }
    .hidden { display: none; }
    .choices { margin-top: 50px; }
    button.choice {
      background: none;
      border: 2px solid var(--primary);
      color: var(--primary);
      padding: 15px 30px;
      margin: 10px;
      cursor: pointer;
      transition: 0.3s;
    }
    button.choice:hover { background: var(--primary); color: #000; }
    .heart-rain { position: fixed; pointer-events: none; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Official Spotify Embed (Replace TRACK_ID) -->
  <div id="soundtrack">
    <iframe src="https://open.spotify.com/embed/track/4uLU6hMCjMI75M1A2tKUQC" width="300" height="80" frameborder="0" allowtransparency="true"></iframe>
  </div>

  <!-- Chapter 1 -->
  <div class="chapter visible" id="chapter1">
    <h1>Chapter 1: The First Earthquake</h1>
    <div class="memory-box" onclick="reveal('memory1')">
      "November 12th, 3:14 PM. You walked into the room, and my internal GPS malfunctioned..."
    </div>
    <div class="hidden" id="memory1">
      <p>Scientists say love triggers the same neurons as survival instincts. That day, I understood why.</p>
      <button class="choice" onclick="nextChapter(2)">Continue →</button>
    </div>
  </div>

  <!-- Chapter 2 -->
  <div class="chapter" id="chapter2">
    <h1>Chapter 2: 87 Failed Attempts</h1>
    <div class="memory-box" onclick="reveal('memory2')">
      "I drafted 87 texts to you. Deleted 86. The one I sent: 'Hey.' You replied: 'Hi 😊'..."
    </div>
    <div class="hidden" id="memory2">
      <p>That 'Hi' became my favorite Shakespearean sonnet.</p>
      <button class="choice" onclick="nextChapter(3)">→</button>
    </div>
  </div>

  <!-- Chapter 3 -->
  <div class="chapter" id="chapter3">
    <h1>Chapter 3: The Addiction</h1>
    <div class="memory-box" onclick="reveal('memory3')">
      "Your laugh is my nicotine. Your smile—my caffeine. Your voice—the oxygen I forgot I needed..."
    </div>
    <div class="hidden" id="memory3">
      <p>I’ve become a love junkie. You’re my dealer.</p>
      <button class="choice" onclick="nextChapter(4)">→</button>
    </div>
  </div>

  <!-- Chapter 4 -->
  <div class="chapter" id="chapter4">
    <h1>Chapter 4: The Fear</h1>
    <div class="memory-box" onclick="reveal('memory4')">
      "I practice your name in the mirror like a prayer. What if I stumble when it matters?..."
    </div>
    <div class="hidden" id="memory4">
      <p>My hands shake writing this. Courage has never cost me so much.</p>
      <button class="choice" onclick="nextChapter(5)">→</button>
    </div>
  </div>

  <!-- Chapter 5: Finale -->
  <div class="chapter" id="chapter5">
    <h1>Chapter 5: The Leap</h1>
    <div class="memory-box" style="font-size: 1.5rem;">
      "Princess, I don’t want to be the ‘almost’ in your love story.<br><br>
      Let’s rewrite this:<br>
      <span style="font-size: 3rem;">You. Me. No End.</span>"
    </div>
    <div class="choices" style="margin-top: 100px;">
      <button class="choice" onclick="celebrate()" style="font-size: 2rem;">YES 🌹</button>
      <button class="choice" onclick="beg()" style="font-size: 2rem;">Not Yet 😢</button>
    </div>
  </div>

  <script>
    // Auto-scroll reveal
    window.addEventListener('scroll', () => {
      document.querySelectorAll('.chapter').forEach(chap => {
        if (chap.getBoundingClientRect().top < window.innerHeight * 0.75) {
          chap.classList.add('visible');
        }
      });
    });

    // Story functions
    function reveal(id) { 
      document.getElementById(id).style.display = 'block'; 
      createHearts(5); 
    }
    function nextChapter(num) { 
      document.getElementById(`chapter${num}`).scrollIntoView({behavior: 'smooth'}); 
      createHearts(10);
    }
    
    function celebrate() {
      createHearts(100);
      alert("💌 To my forever co-author: Let’s burn libraries with our story.");
    }
    function beg() {
      alert("I’ll rewrite this until my fingers bleed. Just say when. 🥺");
    }

    // Heart animation
    function createHearts(count) {
      for(let i=0; i<count; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart-rain';
        heart.innerHTML = '❤️';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animation = `fall ${Math.random()*3+2}s linear`;
        heart.style.fontSize = Math.random()*20+10 + 'px';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
      }
    }

    // CSS for hearts
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        to { transform: translateY(100vh) rotate(360deg); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
  </html>
